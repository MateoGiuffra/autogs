<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <meta name="description" content="Sitio web destinado al analisis de resumenes financieros">
        <title>Resumenes</title>
        <link rel="stylesheet" href="/static/css/mystyle.css">
        <!-- <link rel="stylesheet" href="/front/static/css/mystyle.css"> -->
        <!-- script para darle comportamiento al botón Actualizar Resumen -->
        <script src="/static/js/script.js"></script>
        <!-- fuente de google -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&display=swap" rel="stylesheet">
        <!-- fuente de google para titulos -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Serif+Text:ital@0;1&display=swap" rel="stylesheet">
        <!-- carga de los valores total y last_total para el script -->
        <div id="totalValue" data-total="{{data1['total']}}" style="display:none;"></div>
        <div id="lastTotalValue" data-last-total="{{data1['last_total']}}" style="display:none;"></div>
        <!-- el script encargado de la resta -->
        <script src="/static/js/script-resta.js"></script>
    </head>
    <body>
        <h1 class="resumenes-title">Resumenes</h1>
        <article class="article-id"> 
            <h1>
                <button class='actualizar-button-style' id='actualizar'>
                    <div class='texto-btn'>Actualizar Resumen</div>
                </button>
                <div id="spinner" style="display: none;"></div>
            </h1>
        </article>
        <main>
            <article id="total-hoy">
                <h2>Total de Hoy</h2> 
                <p> 
                    <h3 id="total">{{data1['total']}}</h3>
                    <div>
                        Ult. vez actualizado: <span id="last-report-date">{{data1['last_report_date']}}</span>
                    </div>
                    <div>
                        Diferencia de la última actualización: <span id="dif"></span>
                    </div>
                </p>
            </article>
            <article> 
                <h2>Recaudación Total del Mes Pasado</h2>
                <strong id="last_months_total">{{data1['last_months_total']}}</strong>
                <p>{{data1['message_last_months_total']}}</p>
            </article>
            <article> 
                <h2>Recaudación de Hacia un Mes Atrás</h2>
                <strong id="last_months_total_today">{{data1['last_months_total_today']}}</strong>
                <p>{{data1['message_last_months_total_today']}}</p>
            </article>
        </main>
        <footer>
            Copyright &copy 2025 Resumen Financiero
        </footer>
        <!-- Cargar el script para formatear números -->
        <script src="/static/js/format-numbers.js"></script>
    </body>
</html>

